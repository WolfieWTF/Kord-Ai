const _0x54040b=_0x7d31;(function(_0x424782,_0x454e8d){const _0x1b2252=_0x7d31,_0x1f0952=_0x424782();while(!![]){try{const _0x35c399=parseInt(_0x1b2252(0xe1))/0x1*(parseInt(_0x1b2252(0xfa))/0x2)+-parseInt(_0x1b2252(0xe0))/0x3+parseInt(_0x1b2252(0xfb))/0x4*(-parseInt(_0x1b2252(0xde))/0x5)+parseInt(_0x1b2252(0xd8))/0x6*(parseInt(_0x1b2252(0xf2))/0x7)+-parseInt(_0x1b2252(0xf7))/0x8+parseInt(_0x1b2252(0x100))/0x9+-parseInt(_0x1b2252(0x104))/0xa*(-parseInt(_0x1b2252(0xed))/0xb);if(_0x35c399===_0x454e8d)break;else _0x1f0952['push'](_0x1f0952['shift']());}catch(_0xbf6fa){_0x1f0952['push'](_0x1f0952['shift']());}}}(_0x5110,0xd028b));const fs=require('fs')[_0x54040b(0xf4)],path=require('path'),axios=require('axios'),emojis={'loading':'‚è∞','response':_0x54040b(0x108),'error':'üòñ'},delay=_0x126bb5=>new Promise(_0x12906e=>setTimeout(_0x12906e,_0x126bb5)),configPath=path[_0x54040b(0x102)](__dirname, '..', '..', 'Database', 'chatbot_config.json');let messageListener=null,activeChats=new Set();function _0x7d31(_0x54fb27,_0x43a508){const _0x5110e8=_0x5110();return _0x7d31=function(_0x7d31fb,_0x1e5c7f){_0x7d31fb=_0x7d31fb-0xd6;let _0x3dddab=_0x5110e8[_0x7d31fb];return _0x3dddab;},_0x7d31(_0x54fb27,_0x43a508);}module[_0x54040b(0xd7)]={'usage':[_0x54040b(0x101)],'desc':_0x54040b(0xe8),'commandType':'Bot','isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],async 'execute'(_0x11d0ce,_0x22ac17,_0x5bbe73,_0x8673b9){const _0x151d79=_0x54040b,_0x1ab392=_0x22ac17[_0x151d79(0xe6)][_0x151d79(0xff)];if(_0x5bbe73[0x0]==='on'){if(activeChats[_0x151d79(0x109)](_0x1ab392))return kord[_0x151d79(0xf0)](_0x22ac17,'Chatbot\x20is\x20already\x20active\x20in\x20this\x20chat.');return activeChats[_0x151d79(0x111)](_0x1ab392),await this[_0x151d79(0x112)](_0x1ab392,!![]),!messageListener&&this[_0x151d79(0x10e)](_0x11d0ce),kord[_0x151d79(0xf5)](_0x22ac17,_0x151d79(0xf1),this[_0x151d79(0xe5)]);}else{if(_0x5bbe73[0x0]===_0x151d79(0x106)){if(!activeChats[_0x151d79(0x109)](_0x1ab392))return kord[_0x151d79(0xf0)](_0x22ac17,_0x151d79(0xe9));return activeChats[_0x151d79(0xfe)](_0x1ab392),await this[_0x151d79(0x112)](_0x1ab392,![]),activeChats[_0x151d79(0x103)]===0x0&&messageListener&&(_0x11d0ce['ev'][_0x151d79(0x106)](_0x151d79(0x10a),messageListener),messageListener=null),kord[_0x151d79(0xf0)](_0x22ac17,_0x151d79(0xf6));}else return kord[_0x151d79(0xf0)](_0x22ac17,_0x151d79(0xdb));}},async 'updateConfig'(_0x48eb30,_0xe2930e){const _0x19f8ff=_0x54040b;let _0x592b37;try{const _0xed7986=await fs[_0x19f8ff(0x10b)](configPath,'utf8');_0x592b37=JSON[_0x19f8ff(0x10d)](_0xed7986);}catch(_0xec35b){_0x592b37={};}_0xe2930e?_0x592b37[_0x48eb30]=!![]:delete _0x592b37[_0x48eb30],await fs['writeFile'](configPath,JSON[_0x19f8ff(0x113)](_0x592b37,null,0x2));},'startListening'(_0x2fc7e3){const _0x56dc50=_0x54040b;messageListener=async({messages:_0x3dc401})=>{const _0x102a48=_0x7d31;for(const _0x3d9140 of _0x3dc401){if(!activeChats[_0x102a48(0x109)](_0x3d9140[_0x102a48(0xe6)][_0x102a48(0xff)]))continue;const _0x2ce993=_0x3d9140[_0x102a48(0xe6)][_0x102a48(0xff)],_0x352033=_0x3d9140[_0x102a48(0x110)][_0x102a48(0x107)]||_0x3d9140[_0x102a48(0x110)][_0x102a48(0xeb)]?.[_0x102a48(0x10c)]||'';if(!_0x3d9140['key']['fromMe']&&_0x3d9140[_0x102a48(0x110)]){await _0x2fc7e3[_0x102a48(0xee)](_0x102a48(0x10f),_0x2ce993);try{await kord[_0x102a48(0xfc)](_0x3d9140,emojis[_0x102a48(0xf3)]);const _0x52fd68=await getGeminiResponse(_0x352033);await kord[_0x102a48(0xfc)](_0x3d9140,emojis[_0x102a48(0xe2)]),await kord['freply'](_0x3d9140,_0x52fd68);}catch(_0x1db3c7){console[_0x102a48(0xd6)](_0x102a48(0xef),_0x1db3c7),await _0x2fc7e3[_0x102a48(0xe3)](_0x2ce993,emojis['error'],_0x3d9140[_0x102a48(0xe6)]),await _0x2fc7e3['sendMessage'](_0x2ce993,{'text':_0x102a48(0xf9)+_0x1db3c7[_0x102a48(0x110)]+'.'});}finally{await _0x2fc7e3[_0x102a48(0xee)](_0x102a48(0xea),_0x2ce993);}}}},_0x2fc7e3['ev']['on'](_0x56dc50(0x10a),messageListener);},async 'init'(_0x2d7b31){const _0x5d9a8b=_0x54040b;try{const _0x47c447=await fs[_0x5d9a8b(0x10b)](configPath,_0x5d9a8b(0xf8)),_0x2d8209=JSON[_0x5d9a8b(0x10d)](_0x47c447);activeChats=new Set(Object[_0x5d9a8b(0xdf)](_0x2d8209)['filter'](_0x1f4afa=>_0x2d8209[_0x1f4afa])),activeChats[_0x5d9a8b(0x103)]>0x0&&this[_0x5d9a8b(0x10e)](_0x2d7b31);}catch(_0x5e0379){console[_0x5d9a8b(0xd6)]('Error\x20initializing\x20chatbot:',_0x5e0379),await fs[_0x5d9a8b(0xec)](configPath,'{}',_0x5d9a8b(0xf8));}}};function _0x5110(){const _0x432e01=['conversation','üó®Ô∏è','has','messages.upsert','readFile','text','parse','startListening','composing','message','add','updateConfig','stringify','error','exports','150jBmMuN','https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent','parts','Usage:\x20chatbot\x20on/off','data','Failed\x20to\x20get\x20response\x20from\x20AI','3633285GdaotA','keys','3602811BPEHaf','5VVlAGX','response','sendReaction','Error\x20calling\x20Gemini\x20API:','usage','key','application/json','Chat\x20With\x20Bot','Chatbot\x20is\x20already\x20inactive\x20in\x20this\x20chat.','paused','extendedTextMessage','writeFile','671jZaYNa','sendPresenceUpdate','Error\x20in\x20chatbot:','reply','Chatbot\x20is\x20now\x20active\x20and\x20listening\x20to\x20messages\x20in\x20this\x20chat.','265643JQvlpb','loading','promises','freply','Chatbot\x20has\x20been\x20deactivated\x20and\x20is\x20no\x20longer\x20listening\x20to\x20messages\x20in\x20this\x20chat.','97080XKSZBc','utf8','An\x20error\x20occurred.\x20','330514MTIShd','8thJnxY','react','?key=','delete','remoteJid','6532596AjVURr','chatbot','join','size','166910nObcmg','post','off'];_0x5110=function(){return _0x432e01;};return _0x5110();}async function getGeminiResponse(_0x59f7b0){const _0x315928=_0x54040b,_0x25ec06='AIzaSyBh9sWiRWxqcAbdgjNpyg7eDySU_qZQZRI',_0x356e27=_0x315928(0xd9);await delay(0x3e8);try{const _0x4d15d8=await axios[_0x315928(0x105)](_0x356e27+_0x315928(0xfd)+_0x25ec06,{'contents':[{'parts':[{'text':_0x59f7b0}]}]},{'headers':{'Content-Type':_0x315928(0xe7)}}),_0x1289e9=_0x4d15d8[_0x315928(0xdc)]['candidates'][0x0]['content'][_0x315928(0xda)][0x0]['text'];return _0x1289e9;}catch(_0xd360cd){console[_0x315928(0xd6)](_0x315928(0xe4),_0xd360cd[_0x315928(0xe2)]?_0xd360cd[_0x315928(0xe2)]['data']:_0xd360cd[_0x315928(0x110)]);throw new Error(_0x315928(0xdd));}}